<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>CarolR</title>
    <!-- midi.js package -->
    <script src="./js/MIDI/AudioDetect.js" type="text/javascript"></script>
    <script src="./js/MIDI/LoadPlugin.js" type="text/javascript"></script>
    <script src="./js/MIDI/Plugin.js" type="text/javascript"></script>
    <script src="./js/MIDI/Player.js" type="text/javascript"></script>
    <script src="./js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
    <script src="./js/Window/DOMLoader.script.js" type="text/javascript"></script>
    <!-- extras -->
    <script src="./js/Base64.js" type="text/javascript"></script>
    <script src="./js/base64binary.js" type="text/javascript"></script>
</head>
<body>
    <script type="text/javascript">

        window.onload = function () {

            MIDI.loadPlugin({
                soundfontUrl: "./soundfont/",
                instrument: "acoustic_grand_piano",
                callback: function () {
                    var note = 48; // the MIDI note
                    var velocity = 127; // how hard the note hits
                    // play the note
                    MIDI.setVolume(0, 127);
                    MIDI.noteOn(0, note, velocity, 0);
                    MIDI.noteOn(0, note + 3, velocity, 0);

                    MIDI.noteOff(0, note, 0.75);
                    MIDI.noteOff(0, note + 3, 0.75);

                    MIDI.noteOn(0, note, velocity, 1);
                    MIDI.noteOff(0, note, 1.75);
                }
            });
        };

    </script>
</body>
</html>